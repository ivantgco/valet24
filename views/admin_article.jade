extends admin_layout
block content
    - var isNew = data.isNew;
    if(!isNew)
        - var article = data.data[0];
    .container.posRel
        if(isNew)
            h2 Создание статьи
        else
            h2 Редактирование статьи
        if(isNew)
            form#edit-article.marTop22(data-id="new")
                .row
                    .col-md-12
                        .form-group
                            label Наименование:
                            input.fc-field.form-control(type='text', data-server_name="title", value="", data-name="title")
                .row
                    .col-md-3
                        .col-md-12
                            .form-group
                                label.control-label
                                    | Картинка
                                div.input-group
                                    .input-group-addon
                                        i.fa.fa-image
                                    input.form-control.fc-field.userPhotoInput(type="text", data-server_name="photo", data-title="Фото", data-required="false", data-editor="text", placeholder="Выберите изображение")
                        .col-md-12
                            .user-photo-wrapper
                                .user-photo-clear
                                    .fa.fa-trash
                                img(src="img/def_artilce.jpg")
                    .col-md-9
                        .form-group
                            label Текст:
                            textarea.fc-field.form-control.cf_text_editor(data-name="body", data-server_name="body", id="new-body", value="")
                        .form-group
                            label Автор:
                            input.fc-field.form-control(type='text', data-server_name="author", value="", data-name="author")
                        .form-group
                            label Перевод:
                            input.fc-field.form-control(type='text', data-server_name="translator", value="", data-name="translator")
                        .row
                            .form-group.col-md-6
                                label Оригинал:
                                input.fc-field.form-control(type='text', data-server_name="original", value="", data-name="original")
                            .form-group.col-md-6
                                label Оригинал ссылка:
                                input.fc-field.form-control(type='text', data-server_name="original_url", value="", data-name="original_url")
                        .form-group
                            label Лицензия:
                            input.fc-field.form-control(type='text', data-server_name="license", value="", data-name="license")
                        .form-group
                            label Дата публикации:
                            input.fc-field.form-control(type='text', data-server_name="publication_date", value="", data-name="publication_date")
        else
            form#edit-article.marTop22(data-id="#{article.id}")
                .row
                    .col-md-12
                        .form-group
                            label Наименование:
                            input.fc-field.form-control(type='text', data-server_name="title", value="#{article.title}", data-name="title")
                .row
                    .col-md-3
                        .col-md-12
                            .form-group
                                label.control-label
                                    | Фото
                                div.input-group
                                    .input-group-addon
                                        i.fa.fa-image
                                    input.form-control.fc-field.userPhotoInput(type="text", data-server_name="photo", data-title="Фото", data-required="false", data-editor="text", placeholder="Выберите изображение", value="#{article.photo}")
                        .col-md-12
                            .user-photo-wrapper
                                .user-photo-clear
                                    .fa.fa-trash
                                img(src="upload/#{article.photo}")
                    .col-md-9
                        .form-group
                            label Текст:
                            textarea.fc-field.form-control.cf_text_editor(data-name="body", data-server_name="body", id="#{article.id}-body", value="#{article.body}")
                        .form-group
                            label Автор:
                            input.fc-field.form-control(type='text', data-server_name="author", value="#{article.author}", data-name="author")
                        .form-group
                            label Перевод:
                            input.fc-field.form-control(type='text', data-server_name="translator", value="#{article.translator}", data-name="translator")
                        .row
                            .form-group.col-md-6
                                label Оригинал:
                                input.fc-field.form-control(type='text', data-server_name="original", value="#{article.original}", data-name="original")
                            .form-group.col-md-6
                                label Оригинал ссылка:
                                input.fc-field.form-control(type='text', data-server_name="original_url", value="#{article.original_url}", data-name="original_url")
                        .form-group
                            label Лицензия:
                            input.fc-field.form-control(type='text', data-server_name="license", value="#{article.license}", data-name="license")
                        .form-group
                            label Дата публикации:
                            input.fc-field.form-control(type='text', data-server_name="publication_date", value="#{article.publication_date}", data-name="publication_date")
        .col-md-12
            hr
            .col-md-12
                #confirm_edit_article.sBtn.green.marL1.flRight
                    i.fa.fa-check
                    | &nbsp;&nbsp;Сохранить
                if(!isNew)
                    #publicate_article.sBtn.blue.marL1.flRight
                        i.fa.fa-users
                        | &nbsp;&nbsp;Опубликовать
                    #delete_article.sBtn.red.marL1.flRight
                        i.fa.fa-trash-o
                        | &nbsp;&nbsp;Удалить

    script(src="js/admin_article.js")