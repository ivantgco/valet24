forever start bin\www on_1_34.json
1) clearCache при изменении связанных таблиц
if (res.length == 0) return cb(new MyError('!!!Не найден клиентский объект или он пренадлежит к другому классу',{client_object:client_object, class:object})); Client_object
если нету клиентского объекта ничего не происходит - отладить ош


\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\

0. Сделать default where для таблицы table_default_payment



1. Добить оба отчета, там все поля есть надо тока NaN`ы исправить

2. Поменять меставми статусы деньги отправдлены и банка подтвердил

3. Кнопка-пулемет, команда machinegun из календаря, захуяривает все плтаежи ( для тестов )

\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\



***********************

1. Не работает создание в форме тип бизнеса, пишет что создано а не создано

2. Не переносится процент в месяц и в день из ТИПА БИЗНЕСА в ТОРГАША

3. Не переностится ставка факторинга из ТИПА БИЗНЕСА в ТОРГАША


4. Не переносится процент в месяц и в день из ТОРГАША в ФИНАНСИРОВАНИЕ

5. Не переностится ставка факторинга из ТОРГАША в ФИНАНСИРОВАНИЕ

6. Новое поле:
    - total_mouthly_credit_card_turnover, месячный оборот по картам
    - есть в торговце и в финансировании
    - Должно переноситься из торгаша в финансирование
    - Должно учавствоаать в перерасчете вместо общего оборота

7. Сначла банк подтверждает начало работы, только потом можно отправить деньги торговцу и перевести в работу!




***********************













- Добавить setColumnPosition в tbl_class_profile/tbl_client_object_profile (создать их)
- SubSubMenu
- Форма клиентского объекта: После изменеия какойнть записи в дочерней таблице и сохранении (при перезагрузке формы), галочки new/modify/remove
не отображают реальное состояние этих параметров (все становаятся снятыми).

- Удаление. Доделать конфирм
- Modify getLinkedTablesWithData -> clearCache в фоне
- Создание данных от user_company/parent_class_company
- Добавить поле removed_by_user, remove_comment
- Логировать modify (галка на класс)
- DataMigration
- creating PDF, doc, html ...
- галка основная компания
- галка у класса "не проверять компанию" - общие данные

- у класса сделать галочку "тестовая"
- Проверка company_id в where
- Торговец -перевод из банка в банк с логированием (чтобы снимать отчет)
    РКО/ процессинг
    Нельзя создать финансирования если банк НЕ is_work
- Добавить всем дочернем таблицам server_parent_...
-

- операция сменить банк эквайер 'change_processing_bank'
    - на вход принимает id рабочего банка
    - проверяет рабочий ли он
    - Записвыает новую строку в таблицку смен банков торговцев
    - меняет значение поля банк эквайер у торговца
    - Пишет лог в истроию торговца

- операция сменить банк РКО 'change_rko_bank'
    - на вход принимает id рабочего банка
    - проверяет рабочий ли он
    - Записвыает новую строку в таблицку смен банков торговцев
    - меняет значение поля банк РКО у торговца
    - Пишет лог в истроию торговца

- Посмотри cloneObj // третично


- Для САШЦА - на add class_profile передается куча полей, а я указывал только name

forever start bin\www config_1_34.json
forever stop bin\www
forever restart bin\www


////Как создать виртуальное поле ссылающееся на другое (предыдущее) виртуальное поле////////////////
"category_id" : {"type": "bigint", "length": "20", "visible": false},
"category" : {"type": "varchar", "length": "255", "from_table": "category", "keyword": "category_id", "return_column": "name", "virtual": true, "name": "Подкатегория"},
"parent_category_id" : {"type": "varchar", "length": "255", "from_table": "category", "keyword": "category_id", "return_column": "parent_category_id", "virtual": true},
"subcategory" : {"type": "varchar", "length": "255", "from_table": "category", "keyword": "parent_category_id", "return_column": "name", "virtual": true, "name": "Категория"},

LEFT JOIN category as category2 ON product.category_id = category2.id
LEFT JOIN category as category3 ON product.parent_category_id = category3.id //--> LEFT JOIN category as category3 ON category2.parent_category_id = category3.id
---MySQLMode----1094---tableName=category2---> join_tables.push(' LEFT JOIN ' + colProfile.from_table + ' as ' + colProfile.from_table_alias + ' ON ' + tableName + '.' + colProfile.keyword + ' = ' + colProfile.from_table_alias + '.id');
/////////////////////////////////////////////////////////////////////////////////////////////////////

"parent_category_id" : {"type": "varchar", "length": "255", "from_table": "category", "join_table": "category", "keyword": "category_id", "return_column": "parent_category_id", "virtual": true},